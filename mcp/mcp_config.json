{
  "mcpServers": {
    "pysearch": {
      "command": "python",
      "args": ["pysearch_mcp_server.py"],
      "env": {
        "PYTHONPATH": "."
      },
      "description": "PySearch MCP Server - Comprehensive code search capabilities",
      "tools": [
        {
          "name": "search_text",
          "description": "Perform basic text search across files in the codebase",
          "parameters": {
            "pattern": {
              "type": "string",
              "description": "Text pattern to search for",
              "required": true
            },
            "paths": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Optional list of paths to search",
              "required": false
            },
            "context": {
              "type": "integer",
              "description": "Number of context lines around matches",
              "default": 3,
              "required": false
            },
            "case_sensitive": {
              "type": "boolean",
              "description": "Whether search should be case sensitive",
              "default": false,
              "required": false
            }
          }
        },
        {
          "name": "search_regex",
          "description": "Perform regex pattern search across files",
          "parameters": {
            "pattern": {
              "type": "string",
              "description": "Regular expression pattern to search for",
              "required": true
            },
            "paths": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Optional list of paths to search",
              "required": false
            },
            "context": {
              "type": "integer",
              "description": "Number of context lines around matches",
              "default": 3,
              "required": false
            },
            "case_sensitive": {
              "type": "boolean",
              "description": "Whether search should be case sensitive",
              "default": false,
              "required": false
            }
          }
        },
        {
          "name": "search_ast",
          "description": "Perform AST-based structural search with filters",
          "parameters": {
            "pattern": {
              "type": "string",
              "description": "Base pattern to search for",
              "required": true
            },
            "func_name": {
              "type": "string",
              "description": "Regex pattern to match function names",
              "required": false
            },
            "class_name": {
              "type": "string",
              "description": "Regex pattern to match class names",
              "required": false
            },
            "decorator": {
              "type": "string",
              "description": "Regex pattern to match decorator names",
              "required": false
            },
            "imported": {
              "type": "string",
              "description": "Regex pattern to match imported symbols",
              "required": false
            },
            "paths": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Optional list of paths to search",
              "required": false
            },
            "context": {
              "type": "integer",
              "description": "Number of context lines around matches",
              "default": 3,
              "required": false
            }
          }
        },
        {
          "name": "search_semantic",
          "description": "Perform semantic concept search",
          "parameters": {
            "concept": {
              "type": "string",
              "description": "Semantic concept to search for (e.g., 'database', 'web', 'testing')",
              "required": true
            },
            "paths": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Optional list of paths to search",
              "required": false
            },
            "context": {
              "type": "integer",
              "description": "Number of context lines around matches",
              "default": 3,
              "required": false
            }
          }
        },
        {
          "name": "configure_search",
          "description": "Update search configuration settings",
          "parameters": {
            "paths": {
              "type": "array",
              "items": {"type": "string"},
              "description": "List of paths to search",
              "required": false
            },
            "include_patterns": {
              "type": "array",
              "items": {"type": "string"},
              "description": "File patterns to include (e.g., ['**/*.py', '**/*.js'])",
              "required": false
            },
            "exclude_patterns": {
              "type": "array",
              "items": {"type": "string"},
              "description": "File patterns to exclude (e.g., ['**/node_modules/**'])",
              "required": false
            },
            "context": {
              "type": "integer",
              "description": "Number of context lines around matches",
              "required": false
            },
            "parallel": {
              "type": "boolean",
              "description": "Whether to use parallel processing",
              "required": false
            },
            "workers": {
              "type": "integer",
              "description": "Number of worker threads",
              "required": false
            },
            "languages": {
              "type": "array",
              "items": {"type": "string"},
              "description": "List of languages to filter by",
              "required": false
            }
          }
        },
        {
          "name": "get_search_config",
          "description": "Get current search configuration",
          "parameters": {}
        },
        {
          "name": "get_supported_languages",
          "description": "Get list of supported programming languages",
          "parameters": {}
        },
        {
          "name": "clear_caches",
          "description": "Clear search engine caches",
          "parameters": {}
        },
        {
          "name": "get_search_history",
          "description": "Get recent search history",
          "parameters": {
            "limit": {
              "type": "integer",
              "description": "Maximum number of history entries to return",
              "default": 10,
              "required": false
            }
          }
        }
      ]
    }
  }
}
